// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum Role {
  USER
  ADMIN
}

enum Tag {
  UNDERGRADUATE
  KHOURY
  PROGRAMMING
  PROFESSIONAL
  DESIGN
  PRODUCT_DEVELOPMENT
  ENTREPRENEURSHIP
  CONSULTING
  BUSINESS
  SERVICE
  VENTURE_ACCELERATOR
  STEM
  SOCIAL
  MENTORSHIP
  VENTURE_CAPITAL
  STARTUPS
  PAAC
}

enum JoinStatus {
  ACCEPTING_MEMBERS
  NOT_ACCEPTING_MEMBERS
}

enum MembershipProcess {
  OPEN
  AUDITION
  APPLICATION
}

model User {
  id        String   @id @unique
  email     String   @unique
  firstName String
  lastName  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  role      Role     @default(USER)

  club   Club?   @relation(fields: [clubId], references: [id])
  clubId String?

  @@index([clubId])
}

model Club {
  id           String     @id @unique
  name         String
  desc         String
  email        String     @unique
  website      String?
  logoUrl      String?
  coverUrl     String?
  linkedinUrl  String?
  instagramUrl String?
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt
  joinStatus   JoinStatus

  members User[]
}
